<p class="text-right mb-2">
	<button class="btn btn-link" data-bs-toggle="modal" data-bs-target="#gdprModal">
		<i class="fas fa-info-circle"></i> {{ 'consult_gdpr_button'|trans }}
	</button>
</p>

{{ form_start(form, {attr: attr|default({})}) }}

<div class="form-block">
	<div class="row">
		<div class="form-group col-md-6">
			{{ form_row(form.firstname) }}
		</div>

		<div class="form-group col-md-6">
			{{ form_row(form.lastname) }}
		</div>
	</div>
</div>
<div class="row">
	<div class="form-group col-md-6">
		{{ form_row(form.username) }}
	</div>
	<div class="form-group col-md-6">
		{{ form_row(form.email) }}
	</div>
</div>
<div class="row">
	<div class="form-group col-md-6">
		<label>{{ 'login.form.label.city'|trans }}</label>
        {% include 'common/map.html.twig' with {'allowed': true, 'page': 'login', 'placeholder': 'login.form.label.address'|trans} %}
	</div>

	<div class="form-group col-md-6">
		{{ form_row(form.dateOfBirth) }}
	</div>
</div>

<div class="row">
	<div class="form-group col-md-6">
		{{ form_row(form.isListeningPosition) }}
	</div>
</div>
<div class="row">
	<div class="form-group col-md-6">
		<div class="input-group mb-3">
			<span class="input-group-text">
				{{ 'label.up_to_distance'|trans }}
			</span>
			{{ form_widget(form.upToDistance) }}
			<span class="input-group-text">km</span>
		</div>
	</div>
</div>

{% if form.offsetExists('password') %}
	<div class="row special">
		{{ form_row(form.password) }}
	</div>
{% endif %}

<div class="form-group button-group text-right">
	<button class="btn btn-danger mr-2">
		{{ 'delete_my_account_button'|trans }}
	</button>
	{{ form_widget(form.save, {'label': 'label.save'|trans}) }}
</div>

{{ form_end(form) }}

<div id="gdprModal" class="modal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">{{ 'gdpr_modal_title'|trans }}</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<p>{{ 'gdpr_modal_content'|trans }}</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{ 'close'|trans }}</button>
			</div>
		</div>
	</div>
</div>